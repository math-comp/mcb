\chapter{Finite group theory}

The part of the library covering finite group theory is composed of
the \C{fingroup} and \C{solvable} directories.  It covers a substantial
part of~\cite{gorenstein2007finite} and~\cite{9781139175319} ranging from
basic notions like morphisms, quotients, actions, cyclic and p-groups to more
substantial topics as Sylow and Hall groups, the abelian
structure theorem and the Jordan-H\"older theorem.
The paper~\cite{DBLP:conf/mkm/Mahboubi13}
describes the constructions and formalization techniques
needed in order to prove the Jordan-H\"older theorem.

\paragraph{contents}

\lib{..}

\paragraph{Basic formalization choices} To ease the study of subgroups,
the type of groups is indexed over a container group called
\C{finGroupType}, fixing the group law and imposing finiteness by
inheriting from \C{finType}.
For example two groups \C{(G H : \{group gT\})},
where \C{(gT : finGroupType)}, share the same law and unit.  Groups
naturally coerce to finite sets, and all set-wise operations are available.

Concepts already existing on sets are kept there and not redefined.
Type inference is programmed to infer the group structure whenever possible.
For example the type of \C{(G :&: H)} is \C{\{set gT\}} but such expression
is automatically promoted to a group when needed, similarly to what
was done in section~\ref{sec:tupleinvariant} for tuples.

Group concepts are usually defined on sets, but then
possibly use the generated group operation to fulfill
stricter requirements.  This generalizes the math concept and
eases the integration with set theory.  This is possible because
the container is a group and we can always generate one from a set.

Morphisms carry their domain set in their type.

\paragraph{Notations} The same infix \C{*} notation can be used to
multiply both sets (or groups) and their points.  For example
\C{(g * h \\in G * H)} is a valid writing, meaning that
$g\cdot h \in \{ x\cdot y | x \in G, y \in H\}$.  Given the \C{finGroupType}
container many open notations are also supported, for example the normalizer
of \C{A}, written \C{'N(A)} for \C{A} being a \C{\{set gT\}}, is a sensible
writing, another bonus from the container.

\begin{coq}{}{}
Definition normaliser A := [set x | A :^ x \subset A].
Notation "''N' ( A )" := (normaliser A) : group_scope.
Lemma normP x A : reflect (A :^ x = A) (x \in 'N(A)).
\end{coq}
Here \C{:^} is the notation for conjugating a set by a point:
$\{x^{-1}*a*x | a\in A\}$.

Notation 1 and * overloaded on points/sets and among different groups (types)
useful when many quotients arise.

as for pi.-number we have pi.-group~\ref{numbers:natpred}.

\C{\{in A, P\}} (put elsewhere)

img/preimg (elsewhere)

notations for actions acts-on, transitive, Fix, 'N(A|P) and co.

\paragraph{Formalization trick: totality of operations} In standard mathematics, one
can write \C{A/H} only if the normality condition \C{(H <| A)} holds.
Such construction is made total by defining \C{A/H} as
\C{(('N(H) :&: A) * H) / H)}, i.e. \C{A} is intersected with 
the normalizer of \C{H}, the biggest group that can be quotiented by \C{H}.
This means that a part of \C{A} may be discarded before computing the
quotient; as a consequence lemmas about quotients require
normality conditions, for example:

\begin{coq}{}{}
Lemma quotientMl A B : A \subset 'N(H) -> A * B / H = (A / H) * (B / H).
\end{coq}
Remark that the equational form lets you require only one precondition:
if \C{B} exceeds \C{'N(H)}, then the equation still holds, since
the intersection with the normalizer of \C{H} occurs on both sides.

A similar choice is used for the (semi) direct and central product.
This time the operation is made total by using a default value, the empty
set, when the preconditions are not satisfied.

\begin{coq}{}{}
Definition partial_product A B :=
 if A == 1 then B else if B == 1 then A else
 if [&& group_set A, group_set B & B \subset 'N(A)] then A * B else set0.
Definition sdprod A B :=
 if A :&: B \subset 1%G then partial_product A B else set0.
Notation "G ><| H" := (sdprod G H)%g (at level 40, left associativity).
\end{coq}
Note that by equating an expression \C{(A ><| B)} with a group one
imposes that the preconditions hold, since a group is never the
empty set.  Here \C{group_set} is a predicate asserting that a set
is closed under multiplication and contains the unit; \C{1\%G} is
the trivial group.

\paragraph{Formalization trick: presentations} One cannot decide if a group
presented via generators and relations is finite, hence the integration of such a
concept in a library of finite groups is tricky.  The notation
\C{(G \\homg Grp (x : (x ^+ n)))} states that the finite group \C{G}
is generated by a single point \C{x} of order \C{n} (as in the standard
mathematical notation, \C{(x ^+ n)} really means \C{(x ^+ n = 1)}).
The shrewdness is that the notation hides an existential quantification
postulating the existence of a finite tuple of generators satisfying
the equations and building \C{G}: the potentially infinite object is never
built, and the \C{\\homg} relation (standing for homomorphic image)
suggests the fact that \C{G} is the image of the presented group, not the
group itself.  Notation
\C{(G \\homg Grp (x_1 : .. x_n : (s_1 = t_1, .., s_m = t_m))}
for a \C{(G : \{group gT\})} unfolds to:

\begin{coq}{}{}
  [exists t : gT * .. * gT, let: (x_1, .., x_n) := t in                
       (<[x_1]> <*> .. <*> <[x_n]>, (s_1, .. (s_m-1, s_m) ..))        
    == (G,                          (t_1, .. (t_m-1, t_m) ..))] 
\end{coq}
Such formula is generated reflexively, i.e. by a \Coq{} program that
takes as input the syntax of the presentation and produces that statement.
Remark the $m+1$ components compared by \C{(_ == _)}.  It first compares
the group generated by the generators \C{x_1 .. x_n} with \C{G}; then
it compares all the expressions being related.
Here \C{<[x]>} denotes the group generated by \C{x} and \C{(A <*> B)} is
the group generated by the sets \C{A} and \C{B} (also called join).
An example is the standard presentation
of the dihedral group (\C{'D_m} has order \C{m = q.*2 >= 4}):

\begin{coq}{}{}
Lemma Grp_dihedral: 'D_m \isog Grp(x: y: (x ^+ q, y ^+ 2, x ^ y = x^-1)).
\end{coq}


trick: better explain the second message of sdprod (equation with group means not in the default case)

perm T for T finite, and not a set.






\chapter{Representation and Character theory}

\cite{isaacs1976character}

As an example of application of the library, in particular of the linear algebra
theory.

